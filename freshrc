NEOVIMDIR=~/.config/nvim

cwd=$PWD

if [[ ! -x fresh ]]; then
  ~/bin/fresh freshshell/fresh contrib/source-build.sh --file='~/.zshrc'
fi
# handles updating fresh
fresh freshshell/fresh bin/fresh --bin
# links your local ~/.dotfiles/gitconfig to ~/.gitconfig (you can change your local directory by setting $FRESH_LOCAL)
fresh gitconfig --file

git clone "https://github.com/louisch/dotnvim.git" "$NEOVIMDIR"
curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh
sh ./installer.sh "$NEOVIMDIR"/dein
rm installer.sh  # we can remove the installation script afterwards
nvim -c ':call dein#install() | :q'
cd "$NEOVIMDIR"/dein/repos/github.com/Valloric/YouCompleteMe
./install.py --all
cd "$cwd"
