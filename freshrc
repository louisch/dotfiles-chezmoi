NEOVIMDIR=~/.config/nvim

cwd=$PWD

# handles updating fresh
fresh freshshell/fresh bin/fresh --bin
# links your local ~/.dotfiles/gitconfig to ~/.gitconfig (you can change your local directory by setting $FRESH_LOCAL)
fresh gitconfig --file

sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

if [[ ! -d "$NEOVIMDIR" ]]; then
  git clone "https://github.com/louisch/dotnvim.git" "$NEOVIMDIR"
else
  cd "$NEOVIMDIR"
  git pull
fi
echo "let nvimdir = \"$NEOVIMDIR\"" > "$NEOVIMDIR"/local.vim
curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh
sh ./installer.sh "$NEOVIMDIR"/dein
rm installer.sh  # we can remove the installation script afterwards
nvim -c ':call dein#install() | :q'
cd "$NEOVIMDIR"/dein/repos/github.com/Valloric/YouCompleteMe
./install.py --all
cd "$cwd"
